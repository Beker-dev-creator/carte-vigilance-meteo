<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Simulation Radar Météo France</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; background: #000; }
    canvas { display: block; margin: auto; }
  </style>
</head>
<body>
<script>
  let mapImg;
  let blobs = [];

  function preload() {
    // Carte de la France depuis Wikipédia
    mapImg = loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/France_location_map-Departements-2016.svg/600px-France_location_map-Departements-2016.svg.png");
  }

  function setup() {
    createCanvas(600, 600);
    imageMode(CENTER);

    // Génération aléatoire des précipitations
    for (let i = 0; i < 50; i++) {
      blobs.push({
        x: random(150, 450),
        y: random(100, 500),
        dx: random(-1, 1),
        dy: random(-1, 1),
        size: random(10, 30),
        intensity: random(100, 200)
      });
    }
  }

  function draw() {
    background(255);
    image(mapImg, width / 2, height / 2, 600, 600);

    noStroke();
    for (let b of blobs) {
      fill(0, 100, 255, b.intensity); // Couleur bleue semi-transparente
      ellipse(b.x, b.y, b.size);

      // Mouvement avec rebond sur les bords
      b.x += b.dx;
      b.y += b.dy;

      if (b.x < 100 || b.x > 500) b.dx *= -1;
      if (b.y < 80 || b.y > 520) b.dy *= -1;
    }
  }
</script>
</body>
</html>
